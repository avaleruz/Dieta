<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dieta Settimanale</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #f0f0f0;
      padding: 20px;
      max-width: 700px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
      color: #ffffff;
    }
    ul {
      list-style-type: none;
      padding: 0;
    }
    li {
      background: #1e1e1e;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      box-shadow: 0 1px 3px rgba(255,255,255,0.1);
    }
    input[type="checkbox"] {
      margin-right: 10px;
      transform: scale(1.2);
    }
    input[type="text"] {
      flex-grow: 1;
      font-size: 15px;
      padding: 6px;
      background-color: #2a2a2a;
      color: white;
      border: 1px solid #555;
      border-radius: 4px;
    }
    button {
      margin-top: 30px;
      padding: 10px 20px;
      font-size: 16px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <h1>üìÖ Dieta Settimanale</h1>

  <h2>Sabato</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - Petto di pollo 160g, Patate 250g, Verdure cotte 200g, Pane integrale 20g, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Whey 30g, ¬Ω banana"></li>
    <li><input type="checkbox"><input type="text" value="19:15 - 2 uova, 2 scatolette di tonno, Pane integrale 40g, Carote bollite 200g, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="20:00 - Skyr 200g o whey shake (facoltativo)"></li>
  </ul>

  <h2>Domenica</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - 1 uovo + 150g albume, Pane integrale 30g, Zucchine, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Skyr 200g, Frutta 150g"></li>
    <li><input type="checkbox"><input type="text" value="19:15 - Merluzzo 200g, Patate 200g, Carote, Pane integrale 30g, Olio EVO 5g"></li>
  </ul>

  <h2>Luned√¨</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - Petto di pollo 160g, Riso basmati 80g, Verdure, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Whey 30g, ¬Ω banana"></li>
    <li><input type="checkbox"><input type="text" value="19:15 - 2 uova, 2 scatole di tonno, Pane integrale 40g, Carote, Olio EVO 5g"></li>
  </ul>

  <h2>Marted√¨</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - 1 uovo + 150g albume, 1 scatola di tonno, Pane integrale 30g, Verdure + Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Yogurt greco 170g, Frutta 100g"></li>
    <li><input type="checkbox"><input type="text" value="19:00 - Salmone 150g, Patate 150g, Verdure, Olio EVO 5g"></li>
  </ul>

  <h2>Mercoled√¨</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - Petto di pollo 160g, Riso basmati 80g, Verdure, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Whey 30g, ¬Ω banana"></li>
    <li><input type="checkbox"><input type="text" value="19:15 - 2 uova, 2 scatole di tonno, Pane integrale 40g, Carote, Olio EVO 5g"></li>
  </ul>

  <h2>Gioved√¨</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - 1 uovo + 150g albume, 1 scatola di tonno, Pane integrale 30g, Verdure + Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Skyr 200g, Frutta 150g"></li>
    <li><input type="checkbox"><input type="text" value="19:00 - Orata 150g, Pane integrale 30g, Verdure, Olio EVO 5g"></li>
  </ul>

  <h2>Venerd√¨</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="13:00 - Petto di pollo 160g, Riso basmati 80g, Verdure, Olio EVO 5g"></li>
    <li><input type="checkbox"><input type="text" value="16:30 - Whey 30g, ¬Ω banana"></li>
    <li><input type="checkbox"><input type="text" value="19:15 - 2 uova, 2 scatole di tonno, Pane integrale 40g, Carote, Olio EVO 5g"></li>
  </ul>

  <h2>Bonus - Anacardi</h2>
  <ul>
    <li><input type="checkbox"><input type="text" value="15g anacardi = 10g mandorle / 1/2 banana / 20g pane / 5g olio EVO (in sostituzione)"></li>
  </ul>

  <p style="text-align:center; margin-top: 30px;">‚ö†Ô∏è <strong>Nota:</strong> su iPhone le modifiche spuntate e testuali <u>non si possono salvare</u> in un file, ma <u>rimarranno visibili se riapri la pagina dallo stesso browser</u> (grazie alla cache locale).</p>

  
<p style="text-align:center; margin-top: 20px;">
  <a href="https://api.whatsapp.com/send?text=Qui%20puoi%20trovare%20la%20mia%20dieta%20settimanale!" target="_blank" style="text-decoration:none;">
    <button>üì§ Invia via WhatsApp</button>
  </a>
</p>

<script>
  window.addEventListener('load', () => {
    document.querySelectorAll('input[type="text"]').forEach((input, index) => {
      const saved = localStorage.getItem('text_' + index);
      if (saved) input.value = saved;
      input.addEventListener('input', () => {
        localStorage.setItem('text_' + index, input.value);
      });
    });

    document.querySelectorAll('input[type="checkbox"]').forEach((box, index) => {
      const saved = localStorage.getItem('check_' + index);
      if (saved === 'true') box.checked = true;
      box.addEventListener('change', () => {
        localStorage.setItem('check_' + index, box.checked);
      });
    });
  });
${el.value}
`;
  });
  const blob = new Blob([output], { type: 'text/plain' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'dieta_modificata.txt';
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  URL.revokeObjectURL(link.href);
} ${el.value}
`;
  });
  const blob = new Blob([output], { type: 'text/plain' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'dieta_modificata.txt';
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  URL.revokeObjectURL(link.href);
}
</script>
</body>
</html>
